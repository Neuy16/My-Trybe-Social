{"version":3,"sources":["utils/queries.js","pages/Home.js","utils/mutations.js","utils/auth.js","pages/Login.js","pages/Profile.js","pages/Register.js","components/PostList/index.js","pages/UserHome.js","components/PostForm/index.js","pages/PostCreation.js","components/Header/index.js","components/Navigation/index.js","components/Footer/index.js","App.js","reportWebVitals.js","index.js"],"names":["QUERY_SINGLE_USER","gql","QUERY_ME","QUERY_POST","QUERY_POSTS","Home","userId","useParams","useQuery","variables","loading","data","user","me","username","className","to","LOGIN_USER","ADD_USER","ADD_POST","decode","this","getToken","token","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","decoded","console","log","setItem","window","location","assign","_id","reload","LoginForm","props","useState","password","formState","setFormState","useMutation","loginUser","error","handleChange","event","target","name","value","handleFormSubmit","preventDefault","stopPropagation","Auth","login","onSubmit","placeholder","type","onChange","required","style","cursor","message","Profile","Register","firstName","lastName","email","addUser","PostList","posts","map","post","userID","fontSize","content","UserHome","PostForm","setContent","addPost","PostCreation","Header","CustomLink","children","resolvedPath","useResolvedPath","isActive","useMatch","path","pathname","end","Navigation","loggedIn","Footer","client","ApolloClient","request","operation","setContext","headers","authorization","uri","cache","InMemoryCache","App","ApolloProvider","element","Login","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4630801a.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\r\n\r\nexport const QUERY_USERS = gql`\r\n  query allUsers {\r\n    users {\r\n      _id\r\n      firstName\r\n      lastName\r\n      username\r\n      email\r\n      profilePicture\r\n      friends {\r\n        _id\r\n        firstName\r\n        lastName\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_SINGLE_USER = gql`\r\n  query singleUser($userId: ID!) {\r\n    user(userId: $userId) {\r\n      _id\r\n      firstName\r\n      lastName\r\n      username\r\n      email\r\n      profilePicture\r\n      friends {\r\n        _id\r\n        firstName\r\n        lastName\r\n      }\r\n      post {\r\n        _id\r\n        userId\r\n        content\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ME = gql`\r\n  query me {\r\n    me {\r\n      _id\r\n      firstName\r\n      lastName\r\n      username\r\n      email\r\n      profilePicture\r\n      friends {\r\n        _id\r\n        firstName\r\n        lastName\r\n      }\r\n      post {\r\n        _id\r\n        userId\r\n        content\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_POST = gql`\r\nquery post {\r\n    _id\r\n    userId\r\n    content\r\n}\r\n`;\r\n\r\nexport const QUERY_POSTS = gql`\r\nquery posts {\r\n  query post {\r\n    _id\r\n    userId\r\n    content\r\n  }\r\n}\r\n`;\r\n","import React from 'react';\r\nimport {useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_SINGLE_USER, QUERY_ME } from '../utils/queries';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n  const { userId } = useParams();\r\n\r\n  // If there is no `userId` in the URL as a parameter, execute the `QUERY_ME` query instead for the logged in user's information\r\n  const { loading, data } = useQuery(\r\n    userId ? QUERY_SINGLE_USER : QUERY_ME,\r\n    {\r\n      variables: { userId: userId },\r\n    }\r\n  );\r\n\r\n  // Check if data is returning from the `QUERY_ME` query, then the `QUERY_SINGLE_USER` query\r\n  const user = data?.me || data?.user || {};\r\n\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (!user?.username) {\r\n    return (\r\n      <section>\r\n      <div>\r\n      <Link className=\"btn btn-lg btn-primary m-2\" to=\"/Login\">\r\n            Login\r\n          </Link>\r\n          <p> </p>\r\n          <Link className=\"btn btn-lg btn-light m-2\" to=\"/Register\">\r\n            Register\r\n          </Link>\r\n      </div>\r\n\r\n      <p>\r\n        You need to be logged in. Use the navigation\r\n        links above to sign up or log in!\r\n      </p>\r\n      </section>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nexport default Home;\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN_USER = gql`\r\n    mutation login($username: String!, $password: String!) {\r\n        login(username: $username, password: $password) {\r\n            token\r\n            user {\r\n                _id\r\n                username\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n    mutation addUser($firstName: String!, $lastName: String!, $username: String!, $email: String!, $password: String!) {\r\n        addUser(firstName: $firstName, lastName: $lastName, username: $username, email: $email, password: $password){\r\n            token\r\n            user {\r\n                _id\r\n                username\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ADD_POST = gql`\r\n     mutation addPost($userId: ID!, $content: String!) {\r\n        addPost(userId: $userId, content: $content) {\r\n            post {\r\n            _id\r\n            userId\r\n            content\r\n            }\r\n         }\r\n    }\r\n `;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n    getUser() {\r\n        return decode(this.getToken());\r\n    }\r\n\r\n    loggedIn() {\r\n        const token = this.getToken();\r\n        return !!token && !this.isTokenExpired(token);\r\n      }\r\n\r\n    isTokenExpired(token) {\r\n        const decoded = decode(token);\r\n        if (decoded.exp < Date.now() / 1000) {\r\n          localStorage.removeItem('id_token');\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n\r\n    getToken() {\r\n        return localStorage.getItem('id_token');\r\n    }\r\n\r\n    login(token) {\r\n      const decoded = decode(token);\r\n      console.log(decoded.data)\r\n        localStorage.setItem('id_token', token);\r\n        window.location.assign(`/me/${decoded.data._id}`);\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('id_token');\r\n        window.location.reload();\r\n      }\r\n\r\n}\r\n\r\nexport default new AuthService();","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { LOGIN_USER } from '../utils/mutations';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\nconst LoginForm = (props) => {\r\n  const [formState, setFormState] = useState({ username: '', password: '' });\r\n  const [loginUser, { error, data }] = useMutation(LOGIN_USER);\r\n\r\nconst handleChange = (event) => {\r\n  const { name, value } = event.target;\r\n  setFormState({ ...formState, [name]: value });\r\n};\r\n\r\n// submit form\r\nconst handleFormSubmit = async (event) => {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  console.log(formState);\r\n  try {\r\n    const { data } = await loginUser({\r\n      variables: { ...formState },\r\n    });\r\n\r\n    Auth.login(data.login.token);\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n\r\n  // clear form values\r\n  setFormState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n};\r\n\r\nreturn (\r\n  <main className=\"flex-row justify-center mb-4\">\r\n    <div className=\"col-12 col-lg-10\">\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header bg-dark text-light p-2\">Login</h4>\r\n        <div className=\"card-body\">\r\n          {data ? (\r\n            <p>\r\n          <div>Loading...</div>\r\n            </p>\r\n          ) : (\r\n        \r\n            <form onSubmit={handleFormSubmit}>\r\n              <input\r\n                placeholder=\"Your username\"\r\n                name=\"username\"\r\n                type=\"text\"\r\n                value={formState.username}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n             \r\n              <input\r\n                placeholder=\"******\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                value={formState.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <button\r\n                className=\"btn btn-block btn-info\"\r\n                style={{ cursor: 'pointer' }}\r\n                type=\"submit\"\r\n              >\r\n                Submit\r\n              </button>\r\n            </form>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"my-3 p-3 bg-danger text-white\">\r\n              {error.message}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n);\r\n  };\r\n\r\nexport default LoginForm;\r\n","import React, { Fragment } from \"react\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { QUERY_SINGLE_USER } from \"../utils/queries\";\r\n// import { User } from \"../../../server/models\";\r\n\r\nconst Profile = () => {\r\n  const { userId } = useParams();\r\n  const { loading, data } = useQuery(QUERY_SINGLE_USER, {\r\n    variables: { userId: userId },\r\n  });\r\n\r\n  console.log(userId);\r\n  console.log(useParams());\r\n  console.log(\"_-----------_\");\r\n  console.log(data);\r\n\r\n  return (\r\n    <Fragment>\r\n      {!!data && (\r\n        <div>\r\n          <h1>\r\n            ${data.name}'s Profile\r\n          </h1>\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { ADD_USER } from \"../utils/mutations\";\r\n\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst Register = () => {\r\n  const [formState, setFormState] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [addUser, { error, data }] = useMutation(ADD_USER);\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormState({ ...formState, [name]: value });\r\n  };\r\n\r\n\r\n  // submit form\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    console.log(formState);\r\n\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: { ...formState },\r\n      });\r\n\r\n      Auth.login(data.addUser.token);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n\r\n    setFormState({\r\n      firstName: '',\r\n      lastName: '',\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <main className=\"flex-row justify-center mb-4\">\r\n      <div className=\"col-12 col-lg-10\">\r\n        <div className=\"card\">\r\n          <h4 className=\"card-header bg-dark text-light p-2\">Register</h4>\r\n          <div className=\"card-body\">\r\n            {data ? (\r\n              <p>\r\n                Success! You may now head{\" \"}\r\n                <Link to=\"/\">back to Login</Link>\r\n              </p>\r\n            ) : (\r\n              <form onSubmit={handleFormSubmit}>\r\n                <input\r\n                  placeholder=\"Your first name\"\r\n                  name=\"firstName\"\r\n                  type=\"text\"\r\n                  value={formState.firstName}\r\n                  onChange={handleChange}\r\n                />\r\n                <input\r\n                  placeholder=\"Your last name\"\r\n                  name=\"lastName\"\r\n                  type=\"text\"\r\n                  value={formState.lastName}\r\n                  onChange={handleChange}\r\n                />\r\n                <input\r\n                  placeholder=\"Your username\"\r\n                  name=\"username\"\r\n                  type=\"text\"\r\n                  value={formState.username}\r\n                  onChange={handleChange}\r\n                />\r\n                <input\r\n                  placeholder=\"Your email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formState.email}\r\n                  onChange={handleChange}\r\n                />\r\n                <input\r\n                  placeholder=\"******\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  value={formState.password}\r\n                  onChange={handleChange}\r\n                />\r\n                <button\r\n                  className=\"btn btn-block btn-info\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  Submit\r\n                </button>\r\n              </form>\r\n            )}\r\n\r\n            {error && (\r\n              <div className=\"my-3 p-3 bg-danger text-white\">\r\n                {error.message}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n/* import { QUERY_POST } from '../../utils/queries'; */\r\nimport { QUERY_POSTS } from '../../utils/queries';\r\nimport { useQuery } from '@apollo/client';\r\n\r\n\r\n\r\n\r\n\r\nconst PostList = ({ posts }) => {\r\n    const { loading, data } = useQuery(QUERY_POSTS);\r\n    if (!posts) {\r\n        return <h3>no posts yet</h3>;\r\n    }\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    console.log(data)\r\n\r\n    return (\r\n        <div>\r\n            {posts &&\r\n                posts.map((post) => (\r\n                    <div key={post._id} >\r\n                        <h4>\r\n                            {post.userID} <br />\r\n                            <spam style={{ fontSize: '1rem' }} >\r\n                                made this post on\r\n                            </spam>\r\n                        </h4>\r\n                        <div>\r\n                            <p>{post.content}</p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostList;","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_SINGLE_USER, QUERY_ME } from '../utils/queries';\r\nimport PostList from '../components/PostList';\r\n/* import { Link } from 'react-router-dom';\r\nimport Auth from '../utils/auth'; */\r\n\r\nconst UserHome = () => {\r\n    const { userId } = useParams();\r\n\r\n    // If there is no `userId` in the URL as a parameter, execute the `QUERY_ME` query instead for the logged in user's information\r\n    const { loading, data } = useQuery(\r\n        userId ? QUERY_SINGLE_USER : QUERY_ME,\r\n        {\r\n            variables: { userId: userId },\r\n        },\r\n    );\r\n\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\nconsole.log(data);\r\n\r\n    return (\r\n        <section>\r\n            <h4>\r\n                welcome to your timeline {data.user.firstName}\r\n            </h4>\r\n\r\n\r\n            <div>\r\n                {loading ? (\r\n                    <div> Loading... </div>\r\n                ) : (\r\n                    <PostList />\r\n                )}\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default UserHome;","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_POST } from '../../utils/mutations';\r\n\r\nconst PostForm = ({ userId }) => {\r\n\r\n    const [content, setContent] = useState('');\r\n\r\n    const [addPost, { error }] = useMutation(ADD_POST);\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            // eslint-disable-next-line no-unused-vars\r\n            const { data } = await addPost({\r\n                variables: { userId, content },\r\n            });\r\n\r\n            setContent('');\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n/*     const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n\r\n        if (name === 'postArea' && value.length <= 300) {\r\n            setContent(value);\r\n        };\r\n    }; */\r\n\r\n\r\n        return (\r\n            <div>\r\n                <h3>Create A Post</h3>\r\n                <form\r\n                    className='postFormContent'\r\n                    onSubmit={handleFormSubmit}\r\n                >\r\n                    <div className='postInput'>\r\n                        <textarea\r\n                            name='postArea'\r\n                            placeholder='Start Typing...'\r\n                            value={content}\r\n                            className='formInput'\r\n                            onChange={(event) => setContent(event.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='postSubmitButton'>\r\n                        <button className='btn'\r\n                            type='submit'>\r\n                            Create Post\r\n                        </button>\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div>\r\n                            Something is not a-okay...\r\n                        </div>\r\n                    )}\r\n                </form>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    export default PostForm;","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\n/* import { PostList } from '../components/PostList'; */\r\nimport PostForm from '../components/PostForm/index';\r\n\r\nimport { QUERY_SINGLE_USER } from '../utils/queries';\r\n\r\nconst PostCreation = () => {\r\n    const { userId } = useParams();\r\n    const { loading, data } = useQuery(QUERY_SINGLE_USER, {\r\n        variables: {userId: userId},\r\n    });\r\n    const user = data?.user || {};\r\n    console.log(user._id)\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n      }\r\n\r\n    return (\r\n        <div>\r\n            <PostForm />\r\n        </div>\r\n    );\r\n \r\n};\r\n\r\nexport default PostCreation;","import React from 'react';\r\n\r\n  const Header = () => {\r\n\r\n  return (\r\n\r\n    <div>\r\n      <h2>Header</h2>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\nimport { QUERY_SINGLE_USER, QUERY_ME } from '../../utils/queries';\r\nimport { QUERY_POST } from '../../utils/queries';\r\nimport { QUERY_POSTS } from '../../utils/queries';\r\nimport { Link, useMatch, useResolvedPath } from \"react-router-dom\";\r\nimport Auth from '../../utils/auth';\r\nimport decode from 'jwt-decode';\r\n/* import jwtDecode from 'jwt-decode'; */\r\n\r\nfunction Navigation() {\r\n    \r\n    const { userId } = useParams();\r\n\r\n\r\n    // If there is no `userId` in the URL as a parameter, execute the `QUERY_ME` query instead for the logged in user's information\r\n    const { loading, } = useQuery(\r\n        userId ? QUERY_SINGLE_USER : QUERY_ME,\r\n        {\r\n            variables: { userId: userId },\r\n        },\r\n        QUERY_POST,\r\n        QUERY_POSTS\r\n    );\r\n\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n    console.log(token);\r\n    if (!token) {\r\n        return false;\r\n      }\r\n    const decoded = decode(token);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    console.log(userId);\r\n    console.log(decoded.data)\r\n    return (\r\n        <nav>\r\n            <ul>\r\n                <CustomLink to={`/me/${decoded.data._id}`}>Home</CustomLink>\r\n                <CustomLink to={`/me/${decoded.data._id}/createpost`}>Post</CustomLink>\r\n                <CustomLink to=\"/\">Log Out</CustomLink> {/* make this the profile link */}\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nfunction CustomLink({ to, children, ...props }) {\r\n    /*    const path = window.location.pathname */\r\n    const resolvedPath = useResolvedPath(to)\r\n    const isActive = useMatch({ path: resolvedPath.pathname, end: true });\r\n\r\n    return (\r\n        <li className={isActive ? \"active\" : \"\"}>\r\n            <Link to={to} {...props}>\r\n                {children}\r\n            </Link>\r\n        </li>\r\n    );\r\n}\r\n\r\n\r\nexport default Navigation;","import React from \"react\";\r\nimport Navigation from '../Navigation/index';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <div className=\"footer\">\r\n            <div>\r\n                <Navigation></Navigation>\r\n            </div>\r\n        </div>\r\n    );\r\n    }\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\r\nimport Home from './pages/Home';\r\nimport Login from './pages/Login';\r\n// import Notifications from './pages/Notifications';\r\nimport Profile from './pages/Profile';\r\nimport Register from './pages/Register';\r\nimport UserHome from './pages/UserHome';\r\nimport PostCreation from './pages/PostCreation';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\n/* import Navigation from \"./components/Navigation\"; */\r\nimport \"./App.css\";\r\n\r\nconst client = new ApolloClient({\r\n  request: (operation) => {\r\n    const token = localStorage.getItem(\"id_token\");\r\n\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer ${token}` : \"\",\r\n      },\r\n    });\r\n  },\r\n  uri: \"/graphql\",\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <div className=\"flex-column justify-center align-center min-100-vh bg-primary\">\r\n          <Header />\r\n          <div className=\"container\">\r\n            <Routes>\r\n              <Route\r\n                path=\"/\"\r\n                element={<Home />}\r\n              />\r\n              <Route\r\n                path=\"/register\"\r\n                element={<Register />}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                element={<Login />}\r\n              />\r\n              <Route\r\n              path=\"/profile/:userId\"\r\n              element={<Profile />}\r\n              />\r\n              <Route\r\n                path=\"/me/:userId\"\r\n                element={<UserHome />}\r\n              />\r\n              <Route\r\n                path=\"/me/:userId/createpost\"\r\n                element={<PostCreation />}\r\n              />\r\n            </Routes>\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n/* const root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render( */\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}