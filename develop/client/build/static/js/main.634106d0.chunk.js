(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n,s,r,c,i,o=a(1),l=a.n(o),u=a(71),j=a.n(u),b=(a(84),a(33)),m=a(5),d=a(95),p=a(97),O=a(94),h=a(98),x=a(35),g=a(96),v=(Object(g.a)(n||(n=Object(x.a)(["\n  query allUsers {\n    users {\n      _id\n      username\n    }\n  }\n"]))),Object(g.a)(s||(s=Object(x.a)(["\n  query singleUser($userId: ID!) {\n    user(userId: $userId) {\n      _id\n      username\n    }\n  }\n"])))),f=Object(g.a)(r||(r=Object(x.a)(["\n  query me {\n    me {\n      _id\n      username\n    }\n  }\n"]))),N=a(34),w=a.n(N),y=a(6),k=function(){var e=Object(m.o)().userId,t=Object(h.a)(e?v:f,{variables:{userId:e}}),a=t.loading,n=t.data,s=(null===n||void 0===n?void 0:n.me)||(null===n||void 0===n?void 0:n.user)||{};return w.a.loggedIn()&&w.a.getUser().data._id===e?Object(y.jsx)(m.a,{to:"/me"}):a?Object(y.jsx)("div",{children:"Loading..."}):null!==s&&void 0!==s&&s.username?void 0:Object(y.jsx)("h4",{children:"You need to be logged in to see your user page. Use the navigation links above to sign up or log in!"})},S=a(8),$=a(15),C=a(12),I=a(31),Y=a(9),U=a(92),_=Object(g.a)(c||(c=Object(x.a)(["\n    mutation login($username: String!, $password: String!) {\n        login(username: $username, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),L=Object(g.a)(i||(i=Object(x.a)(["\n    mutation addUser($firstName: String!, $lastName: String!, $username: String!, $email: String!, $password: String!) {\n        addUser(firstName: $firstName, lastName: $lastName, username: $username, email: $email, password: $password){\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),q=function(e){var t=Object(o.useState)({username:"",password:""}),a=Object(Y.a)(t,2),n=a[0],s=a[1],r=Object(U.a)(_),c=Object(Y.a)(r,2),i=c[0],l=c[1],u=l.error,j=l.data,m=function(e){var t=e.target,a=t.username,r=t.value;s(Object(I.a)(Object(I.a)({},n),{},Object(C.a)({},a,r)))},d=function(){var e=Object($.a)(Object(S.a)().mark((function e(t){var a,r;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,i({variables:Object(I.a)({},n)});case 5:a=e.sent,r=a.data,w.a.login(r.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:s({username:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(y.jsx)("div",{className:"col-12 col-lg-10",children:Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(y.jsxs)("div",{className:"card-body",children:[j?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(b.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:d,children:[Object(y.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:n.username,onChange:m}),Object(y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:m}),Object(y.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),u&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:u.message})]})]})})})},D=function(){var e=Object(o.useState)({firstName:"",lastName:"",username:"",email:"",password:""}),t=Object(Y.a)(e,2),a=t[0],n=t[1],s=Object(U.a)(L),r=Object(Y.a)(s,2),c=r[0],i=r[1],l=i.error,u=i.data,j=function(e){var t=e.target,s=t.username,r=t.value;n(Object(I.a)(Object(I.a)({},a),{},Object(C.a)({},s,r)))},m=function(){var e=Object($.a)(Object(S.a)().mark((function e(t){var n,s;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(a),e.prev=2,e.next=5,c({variables:Object(I.a)({},a)});case 5:n=e.sent,s=n.data,w.a.login(s.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(y.jsx)("div",{className:"col-12 col-lg-10",children:Object(y.jsxs)("div",{className:"card",children:[Object(y.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Register"}),Object(y.jsxs)("div",{className:"card-body",children:[u?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(b.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsx)("input",{className:"form-input",placeholder:"Your first name",name:"firstName",type:"text",value:a.firstName,onChange:j}),Object(y.jsx)("input",{className:"form-input",placeholder:"Your last name",name:"lastName",type:"text",value:a.lastName,onChange:j}),Object(y.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:a.username,onChange:j}),Object(y.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:j}),Object(y.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:j}),Object(y.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),l&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})]})})})},F=new d.a({uri:"/graphql",cache:new p.a});var M=function(){return Object(y.jsx)(O.a,{client:F,children:Object(y.jsx)(b.a,{children:Object(y.jsx)("div",{className:"flex-column justify-center align-center min-100-vh bg-primary",children:Object(y.jsxs)(m.d,{children:[Object(y.jsx)(m.b,{path:"/",element:Object(y.jsx)(k,{})}),Object(y.jsx)(m.b,{path:"/Register",element:Object(y.jsx)(D,{})}),Object(y.jsx)(m.b,{path:"/Login",element:Object(y.jsx)(q,{})}),Object(y.jsx)(m.b,{path:"/Me",element:Object(y.jsx)("userHome",{})}),Object(y.jsx)(m.b,{path:"/Me/:userId",element:Object(y.jsx)("userHome",{})})]})})})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};j.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)(M,{})})),R()}},[[86,1,2]]]);
//# sourceMappingURL=main.634106d0.chunk.js.map